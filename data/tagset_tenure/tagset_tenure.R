# Set working directory
# setwd()

new_data <- read.table('tagset_tenure.dat', sep=' ')
names(new_data) <- c('R0000100','R0068710','R0333221','R0539410','R0833810','R1081010','R1456710','R1803510','R2165110','R2372510','R2763410','R3005210','R3332610','R3597610','R3947800','R4416300','R5079300','R5164600','R6477500','R7005200','R7702400','R8494700','T0986300','T2208600','T3106400','T4110400','T4114900')

# Handle missing values
  new_data[new_data == -1] = NA  # Refused 
  new_data[new_data == -2] = NA  # Dont know 
  new_data[new_data == -3] = NA  # Invalid missing 
  new_data[new_data == -4] = NA  # Valid missing 
  new_data[new_data == -5] = NA  # Non-interview 

# If there are values not categorized they will be represented as NA
vallabels = function(data) {
  data$R0068710 <- cut(data$R0068710, c(0.0,1.0,50.0,100.0,150.0,200.0,250.0,300.0,350.0,400.0,450.0,500.0,9999999.0), labels=c("0","1 TO 49","50 TO 99","100 TO 149","150 TO 199","200 TO 249","250 TO 299","300 TO 349","350 TO 399","400 TO 449","450 TO 499","500 TO 9999999: 500+"), right=FALSE)
  data$R0333221 <- cut(data$R0333221, c(0.0,1.0,50.0,100.0,150.0,200.0,250.0,300.0,350.0,400.0,450.0,500.0,9999999.0), labels=c("0","1 TO 49","50 TO 99","100 TO 149","150 TO 199","200 TO 249","250 TO 299","300 TO 349","350 TO 399","400 TO 449","450 TO 499","500 TO 9999999: 500+"), right=FALSE)
  data$R0539410 <- cut(data$R0539410, c(0.0,1.0,50.0,100.0,150.0,200.0,250.0,300.0,350.0,400.0,450.0,500.0,9999999.0), labels=c("0","1 TO 49","50 TO 99","100 TO 149","150 TO 199","200 TO 249","250 TO 299","300 TO 349","350 TO 399","400 TO 449","450 TO 499","500 TO 9999999: 500+"), right=FALSE)
  data$R0833810 <- cut(data$R0833810, c(0.0,1.0,50.0,100.0,150.0,200.0,250.0,300.0,350.0,400.0,450.0,500.0,9999999.0), labels=c("0","1 TO 49","50 TO 99","100 TO 149","150 TO 199","200 TO 249","250 TO 299","300 TO 349","350 TO 399","400 TO 449","450 TO 499","500 TO 9999999: 500+"), right=FALSE)
  data$R1081010 <- cut(data$R1081010, c(0.0,1.0,50.0,100.0,150.0,200.0,250.0,300.0,350.0,400.0,450.0,500.0,9999999.0), labels=c("0","1 TO 49","50 TO 99","100 TO 149","150 TO 199","200 TO 249","250 TO 299","300 TO 349","350 TO 399","400 TO 449","450 TO 499","500 TO 9999999: 500+"), right=FALSE)
  data$R1456710 <- cut(data$R1456710, c(0.0,1.0,50.0,100.0,150.0,200.0,250.0,300.0,350.0,400.0,450.0,500.0,9999999.0), labels=c("0","1 TO 49","50 TO 99","100 TO 149","150 TO 199","200 TO 249","250 TO 299","300 TO 349","350 TO 399","400 TO 449","450 TO 499","500 TO 9999999: 500+"), right=FALSE)
  data$R1803510 <- cut(data$R1803510, c(0.0,1.0,50.0,100.0,150.0,200.0,250.0,300.0,350.0,400.0,450.0,500.0,9999999.0), labels=c("0","1 TO 49","50 TO 99","100 TO 149","150 TO 199","200 TO 249","250 TO 299","300 TO 349","350 TO 399","400 TO 449","450 TO 499","500 TO 9999999: 500+"), right=FALSE)
  data$R2165110 <- cut(data$R2165110, c(0.0,1.0,50.0,100.0,150.0,200.0,250.0,300.0,350.0,400.0,450.0,500.0,9999999.0), labels=c("0","1 TO 49","50 TO 99","100 TO 149","150 TO 199","200 TO 249","250 TO 299","300 TO 349","350 TO 399","400 TO 449","450 TO 499","500 TO 9999999: 500+"), right=FALSE)
  data$R2372510 <- cut(data$R2372510, c(0.0,1.0,50.0,100.0,150.0,200.0,250.0,300.0,350.0,400.0,450.0,500.0,9999999.0), labels=c("0","1 TO 49","50 TO 99","100 TO 149","150 TO 199","200 TO 249","250 TO 299","300 TO 349","350 TO 399","400 TO 449","450 TO 499","500 TO 9999999: 500+"), right=FALSE)
  data$R2763410 <- cut(data$R2763410, c(0.0,1.0,50.0,100.0,150.0,200.0,250.0,300.0,350.0,400.0,450.0,500.0,9999999.0), labels=c("0","1 TO 49","50 TO 99","100 TO 149","150 TO 199","200 TO 249","250 TO 299","300 TO 349","350 TO 399","400 TO 449","450 TO 499","500 TO 9999999: 500+"), right=FALSE)
  data$R3005210 <- cut(data$R3005210, c(0.0,1.0,50.0,100.0,150.0,200.0,250.0,300.0,350.0,400.0,450.0,500.0,9999999.0), labels=c("0","1 TO 49","50 TO 99","100 TO 149","150 TO 199","200 TO 249","250 TO 299","300 TO 349","350 TO 399","400 TO 449","450 TO 499","500 TO 9999999: 500+"), right=FALSE)
  data$R3332610 <- cut(data$R3332610, c(0.0,1.0,50.0,100.0,150.0,200.0,250.0,300.0,350.0,400.0,450.0,500.0,9999999.0), labels=c("0","1 TO 49","50 TO 99","100 TO 149","150 TO 199","200 TO 249","250 TO 299","300 TO 349","350 TO 399","400 TO 449","450 TO 499","500 TO 9999999: 500+"), right=FALSE)
  data$R3597610 <- cut(data$R3597610, c(0.0,1.0,50.0,100.0,150.0,200.0,250.0,300.0,350.0,400.0,450.0,500.0,9999999.0), labels=c("0","1 TO 49","50 TO 99","100 TO 149","150 TO 199","200 TO 249","250 TO 299","300 TO 349","350 TO 399","400 TO 449","450 TO 499","500 TO 9999999: 500+"), right=FALSE)
  data$R3947800 <- cut(data$R3947800, c(0.0,1.0,50.0,100.0,150.0,200.0,250.0,300.0,350.0,400.0,450.0,500.0,9999999.0), labels=c("0","1 TO 49","50 TO 99","100 TO 149","150 TO 199","200 TO 249","250 TO 299","300 TO 349","350 TO 399","400 TO 449","450 TO 499","500 TO 9999999: 500+"), right=FALSE)
  data$R4416300 <- cut(data$R4416300, c(0.0,1.0,50.0,100.0,150.0,200.0,250.0,300.0,350.0,400.0,450.0,500.0,9999999.0), labels=c("0","1 TO 49","50 TO 99","100 TO 149","150 TO 199","200 TO 249","250 TO 299","300 TO 349","350 TO 399","400 TO 449","450 TO 499","500 TO 9999999: 500+"), right=FALSE)
  data$R5079300 <- cut(data$R5079300, c(0.0,1.0,50.0,100.0,150.0,200.0,250.0,300.0,350.0,400.0,450.0,500.0,9.9999999E7), labels=c("0","1 TO 49","50 TO 99","100 TO 149","150 TO 199","200 TO 249","250 TO 299","300 TO 349","350 TO 399","400 TO 449","450 TO 499","500 TO 99999999: 500+"), right=FALSE)
  data$R5164600 <- cut(data$R5164600, c(0.0,1.0,50.0,100.0,150.0,200.0,250.0,300.0,350.0,400.0,450.0,500.0,9.9999999E7), labels=c("0","1 TO 49","50 TO 99","100 TO 149","150 TO 199","200 TO 249","250 TO 299","300 TO 349","350 TO 399","400 TO 449","450 TO 499","500 TO 99999999: 500+"), right=FALSE)
  data$R6477500 <- cut(data$R6477500, c(0.0,1.0,50.0,100.0,150.0,200.0,250.0,300.0,350.0,400.0,450.0,500.0,9.9999999E7), labels=c("0","1 TO 49","50 TO 99","100 TO 149","150 TO 199","200 TO 249","250 TO 299","300 TO 349","350 TO 399","400 TO 449","450 TO 499","500 TO 99999999: 500+"), right=FALSE)
  data$R7005200 <- cut(data$R7005200, c(0.0,1.0,50.0,100.0,150.0,200.0,250.0,300.0,350.0,400.0,450.0,500.0,9.9999999E7), labels=c("0","1 TO 49","50 TO 99","100 TO 149","150 TO 199","200 TO 249","250 TO 299","300 TO 349","350 TO 399","400 TO 449","450 TO 499","500 TO 99999999: 500+"), right=FALSE)
  data$R7702400 <- cut(data$R7702400, c(0.0,1.0,50.0,100.0,150.0,200.0,250.0,300.0,350.0,400.0,450.0,500.0,9.9999999E7), labels=c("0","1 TO 49","50 TO 99","100 TO 149","150 TO 199","200 TO 249","250 TO 299","300 TO 349","350 TO 399","400 TO 449","450 TO 499","500 TO 99999999: 500+"), right=FALSE)
  data$R8494700 <- cut(data$R8494700, c(0.0,1.0,50.0,100.0,150.0,200.0,250.0,300.0,350.0,400.0,450.0,500.0,9.9999999E7), labels=c("0","1 TO 49","50 TO 99","100 TO 149","150 TO 199","200 TO 249","250 TO 299","300 TO 349","350 TO 399","400 TO 449","450 TO 499","500 TO 99999999: 500+"), right=FALSE)
  data$T0986300 <- cut(data$T0986300, c(0.0,1.0,50.0,100.0,150.0,200.0,250.0,300.0,350.0,400.0,450.0,500.0,9.9999999E7), labels=c("0","1 TO 49","50 TO 99","100 TO 149","150 TO 199","200 TO 249","250 TO 299","300 TO 349","350 TO 399","400 TO 449","450 TO 499","500 TO 99999999: 500+"), right=FALSE)
  data$T2208600 <- cut(data$T2208600, c(0.0,1.0,50.0,100.0,150.0,200.0,250.0,300.0,350.0,400.0,450.0,500.0,9.9999999E7), labels=c("0","1 TO 49","50 TO 99","100 TO 149","150 TO 199","200 TO 249","250 TO 299","300 TO 349","350 TO 399","400 TO 449","450 TO 499","500 TO 99999999: 500+"), right=FALSE)
  data$T3106400 <- cut(data$T3106400, c(0.0,1.0,50.0,100.0,150.0,200.0,250.0,300.0,350.0,400.0,450.0,500.0,9.9999999E7), labels=c("0","1 TO 49","50 TO 99","100 TO 149","150 TO 199","200 TO 249","250 TO 299","300 TO 349","350 TO 399","400 TO 449","450 TO 499","500 TO 99999999: 500+"), right=FALSE)
  data$T4110400 <- cut(data$T4110400, c(0.0,1.0,50.0,100.0,150.0,200.0,250.0,300.0,350.0,400.0,450.0,500.0,9.9999999E7), labels=c("0","1 TO 49","50 TO 99","100 TO 149","150 TO 199","200 TO 249","250 TO 299","300 TO 349","350 TO 399","400 TO 449","450 TO 499","500 TO 99999999: 500+"), right=FALSE)
  data$T4114900 <- cut(data$T4114900, c(0.0,1.0,5.0,10.0,15.0,20.0,25.0,30.0,35.0,40.0,45.0,50.0,9.9999999E7), labels=c("0","1 TO 4","5 TO 9","10 TO 14","15 TO 19","20 TO 24","25 TO 29","30 TO 34","35 TO 39","40 TO 44","45 TO 49","50 TO 99999999: 50+"), right=FALSE)
  return(data)
}

varlabels <- c(    "ID# (1-12686) 79",
    "TOT TENURE WKS W/EMPLYR JOB #1 79",
    "TOT TENURE WKS W/EMPLYR JOB #1 80",
    "TOT TENURE WKS W/EMPLYR JOB #1 81",
    "TOT TENURE WKS W/EMPLYR JOB #1 82",
    "TOT TENURE WKS W/EMPLYR JOB #1 83",
    "TOT TENURE WKS W/EMPLYR JOB #1 84",
    "TOT TENURE WKS W/EMPLYR JOB #1 85",
    "TOT TENURE WKS W/EMPLYR JOB #1 86",
    "TOT TENURE WKS W/EMPLYR JOB #1 87",
    "TOT TENURE WKS W/EMPLYR JOB #1 88",
    "TOT TENURE WKS W/EMPLYR JOB #1 89",
    "TOT TENURE WKS W/EMPLYR JOB #1 90",
    "TOT TENURE WKS W/EMPLYR JOB #1 91",
    "TOT TENURE WKS W/EMPLYR JOB #1 92",
    "TOTAL TENURE JOB # 1 93",
    "TOTAL TENURE JOB # 1 94",
    "TOTAL TENURE JOB #1 96",
    "TOTAL TENURE JOB #01 1998",
    "TOTAL TENURE JOB #01 2000",
    "TOTAL TENURE JOB # 1 2002",
    "TOTAL TENURE JOB # 1 2004",
    "TOTAL TENURE JOB #01 2006",
    "TOTAL TENURE JOB # 1 2008",
    "TOTAL TENURE JOB # 1 2010",
    "TOTAL TENURE JOB # 1 2012",
    "NUM JOBS EVER REPORTED 2012"
)

# Use qnames rather than rnums
qnames = function(data) {
  names(data) <- c("CASEID_1979","TENURE1_1979","TENURE1_1980","TENURE1_1981","TENURE1_1982","TENURE1_1983","TENURE1_1984","TENURE1_1985","TENURE1_1986","TENURE1_1987","TENURE1_1988","TENURE1_1989","TENURE1_1990","TENURE1_1991","TENURE1_1992","TENURE1_1993","TENURE1_1994","TENURE1_1996","TENURE1_1998","TENURE1_2000","TENURE1_2002","TENURE1_2004","TENURE1_2006","TENURE1_2008","TENURE1_2010","TENURE1_2012","JOBSNUM_2012")
  return(data)
}

********************************************************************************************************

# Remove the '#' before the following line to create a data file called "categories" with value labels. 
#categories <- vallabels(new_data)

# Remove the '#' before the following lines to rename variables using Qnames instead of Reference Numbers
#new_data <- qnames(new_data)
#categories <- qnames(categories)

# Produce summaries for the raw (uncategorized) data file
summary(new_data)

# Remove the '#' before the following lines to produce summaries for the "categories" data file.
#categories <- vallabels(new_data)
#summary(categories)

************************************************************************************************************
